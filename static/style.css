/* Estilo geral */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-image: url('/static/img/background-cadastro.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    min-height: 100vh;
    margin: 0;
}

:root {
  --card-left: 260px;   /* desktop típico (1366–1440) */
  --card-top: 70px;
  --card-bottom-gap: 160px;
  --list-left-adjust: -250px; /* ajuste horizontal da lista */
  --edit-left-adjust: -250px; /* ajuste horizontal do editar */
}

/* Cabeçalho */
.card-header {
    display: flex;
    align-items: center;
    gap: 15px;
    font-weight: bold;
    font-size: 1.5rem;
}

.card-header h2 { flex-grow: 1; }

.header-icon {
    font-size: 2rem;
    background: white;
    color: #0d6efd;
    padding: 10px;
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}

.btn { border-radius: 8px; transition: all 0.3s ease; }
.btn:hover { transform: scale(1.03); opacity: 0.95; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.btn-primary { background-color: #007cf0; border: none; }
.btn-primary:hover { background-color: #005dc0; }
.btn-success:hover { background-color: #2ecc71; }
.btn-danger:hover { background-color: #e74c3c; }

input.form-control, select.form-select { border-radius: 8px; box-shadow: none !important; }

.alert { border-radius: 8px; font-weight: 500; }

.custom-hover { transition: all 0.3s ease-in-out; }
.custom-hover:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.2); }

.left-card { margin-left: 3rem; margin-right: auto; max-width: 700px; }
.align-left { margin-left: 0; margin-right: auto; max-width: 700px; }

html, body { height: 100%; overflow: hidden; }

/* ------ CARD ------ */
.card {
  --col-gap: 16px;
  --row-gap: 8px;
  --inp-h: clamp(34px, 4.2vh, 40px);
  --fs: clamp(14px, 1.7vh, 16px);

  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 18px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);

  position: fixed;
  top: var(--card-top);
  left: var(--card-left);
  width: min(960px, 92vw);
  height: auto;
  max-height: none;
  overflow: visible;
}

/* GRID 2 COLUNAS */
.form-grid {
  display: grid;
  grid-template-columns: minmax(280px,1fr) minmax(280px,1fr);
  column-gap: var(--col-gap);
  row-gap: var(--row-gap);
}

.span-2 { grid-column: 1 / -1; }

.form-grid label {
  display: inline-block;
  margin: 0 0 4px;
  font-weight: 600;
  line-height: 1.2;
}
.form-grid input,
.form-grid select {
  height: var(--inp-h);
  padding: 6px 10px;
  line-height: 1.2;
  width: 100%;
}

@media (min-width: 1600px) {
  :root { --card-left: 300px; }
}
@media (max-width: 1365px) {
  :root { --card-left: 220px; }
}
@media (max-width: 1024px) {
  :root { --card-left: 120px; }
}

.campo { display:flex; flex-direction:column; }
.input-with-eye { position: relative; }

/* LISTA */
.card-list {
  position: fixed !important;
  top: var(--card-top) !important;
  left: calc(var(--card-left) + var(--list-left-adjust)) !important;
  width: min(960px, 92vw) !important;
  display: flex !important;
  flex-direction: column !important;
  height: calc(100vh - var(--card-top) - var(--card-bottom-gap)) !important;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 18px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  overflow: hidden !important;
}

.table-scroll { flex: 1 1 auto; min-height: 0; overflow-y: auto; background: rgba(255,255,255,.55); border: 1px solid rgba(0,0,0,.08); border-radius: 0 0 12px 12px; }
.table { width: 100%; border-collapse: collapse; }
.table th, .table td { padding: 12px 14px; }
.table thead { position: sticky; top: 0; z-index: 1; background: #e7f3ff; }
.table thead th { position: sticky; top: 0; background: #e7f3ff; }

/* === EDITAR (MESMO POSICIONAMENTO DA LISTA) === */
.page-edit .card-edit {
  position: fixed !important;
  top: var(--card-top) !important;
  left: calc(var(--card-left) + var(--edit-left-adjust)) !important;
  width: min(960px, 92vw) !important;
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  border-radius: 18px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  display: flex;
  flex-direction: column;
  height: calc(100vh - var(--card-top) - var(--card-bottom-gap)) !important;
  overflow: hidden;
}

.page-edit .card-edit .edit-scroll {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto !important;
  padding: 16px 20px;
}

/* Restaurar faixa do Editar e Lista para o padrão do Cadastro */
.card-list .custom-header,
.page-edit .card-edit .custom-header{
  background: linear-gradient(90deg,#00B0FF,#00D2FF) !important;
  color: #fff !important;
  padding: 14px 18px !important;
  border-radius: 18px 18px 0 0 !important;
}

/* Ajusta o layout da faixa da Lista */
.card-list .custom-header {
  display: flex;
  align-items: center;
  justify-content: space-between; /* Ícone + título à esquerda, botão à direita */
  gap: 20px; /* Espaço maior entre o ícone e o título */
}

/* Aumenta o espaço entre o ícone e o texto "Lista de Usuários" */
.card-list .custom-header i {
  margin-right: 14px; /* controla o espaçamento */
}

/* Garante que o botão "Novo Usuário" esteja sempre à direita */
.card-list .custom-header .btn-novo {
  margin-left: auto;
}

/* Aumentar espaço entre ícone e título apenas no Editar */
.card-edit .custom-header {
  display: flex;
  align-items: center;
  gap: 14px; /* controla a distância entre o ícone e o texto */
}

.card-edit .custom-header .header-icon {
  font-size: 1.6rem; /* opcional: deixa o ícone maior se quiser */
}

/* Espaço entre colunas e linhas na página Editar */
.page-edit .form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr; /* duas colunas */
  gap: 20px 30px; /* 20px vertical, 30px horizontal (colunas) */
}

.page-edit .form-grid .campo {
  display: flex;
  flex-direction: column;
}


/* Espaço entre colunas e linhas no cadastro */
.page-create .form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px 30px; /* 20px vertical / 30px horizontal */
}

/* Cadastro: ícone do olho DENTRO do input de senha */
.page-create .input-with-eye{
  position: relative !important;
  display: block;
}
.page-create .input-with-eye input.form-control{
  padding-right: 44px !important;  /* espaço para o ícone */
}
.page-create .input-with-eye .toggle-eye{
  position: absolute !important;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  line-height: 1;
  cursor: pointer;
}
.page-create .input-with-eye .toggle-eye i{
  font-size: 1rem;
  pointer-events: none;
}

/* Cadastro: espaço entre colunas e linhas do grid */
.page-create .form-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px 30px;  /* 20px vertical | 30px horizontal */
}


/* EDITAR: rolagem sempre visível dentro do corpo do card */
.page-edit .card-edit{
  height: calc(100vh - var(--card-top) - var(--card-bottom-gap));
}
.page-edit .card-edit .edit-scroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: scroll;           /* sempre mostra a barra */
  scrollbar-gutter: stable;     /* evita pulo no layout */
}

/* LISTA: rolagem sempre visível na área após o header */
.card-list {
  display: flex;
  flex-direction: column;
  height: calc(100vh - var(--card-top) - var(--card-bottom-gap));
}

.card-list > .custom-header {
  flex: 0 0 auto;
}

.card-list > .custom-header + * {
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: scroll;           /* sempre mostra a barra */
  scrollbar-gutter: stable;     /* evita pulo no layout */
}

/* Se você usa .table-scroll, garantimos também nela */
.card-list > .table-scroll {
  overflow-y: scroll !important;
  scrollbar-gutter: stable;
}

/* === OVERRIDE SEGURO (mantém as posições que você aprovou) === */

/* ajuste que você já usa; mantenha o valor que funcionou aí */
:root{
  --list-left-adjust: -250px;
  --edit-left-adjust: -250px;
}

/* LISTA: mantém exatamente a mesma posição */
.card-list{
  position: fixed !important;
  left: calc(var(--card-left) + var(--list-left-adjust)) !important;
}

/* EDITAR: mantém exatamente a mesma posição */
.page-edit .card-edit{
  position: fixed !important;
  left: calc(var(--card-left) + var(--edit-left-adjust)) !important;
}


/* ===== HOTFIX RENDER: travar posições por página ===== */
/* Ajuste fino aqui: troque os px se quiser mais/menos à esquerda. */
:root{
  --top-fixed: 70px;
  --create-left: 150px;  /* Cadastro */
  --list-left: 40px;     /* Lista (você usou -250px de ajuste = ~10px final) */
  --edit-left: 40px;     /* Editar idem */
}

/* Cadastro – fica como no local */
body.page-create .card{
  position: fixed !important;
  top: var(--top-fixed) !important;
  left: var(--create-left) !important;
  width: min(960px, 92vw) !important;
}

/* Lista – mesma posição do que você gostou e com scroll visível */
body.page-list .card-list{
  position: fixed !important;
  top: var(--top-fixed) !important;
  left: var(--list-left) !important;
  width: min(960px, 92vw) !important;
  height: calc(100vh - var(--top-fixed) - var(--card-bottom-gap)) !important;
  display: flex !important;
  flex-direction: column !important;
  overflow: hidden !important; /* o container não rola */
}
body.page-list .custom-header + *{
  flex: 1 1 auto !important;
  min-height: 0 !important;
  overflow-y: auto !important;   /* a área da tabela rola */
}
body.page-list .table-scroll{
  min-height: 320px !important;  /* a barrinha já aparece “vazia” */
  overflow-y: auto !important;
}

/* Editar – igual à lista (mais à esquerda) e com rolagem só no corpo */
body.page-edit .card-edit{
  position: fixed !important;
  top: var(--top-fixed) !important;
  left: var(--edit-left) !important;
  width: min(960px, 92vw) !important;
  height: calc(100vh - var(--top-fixed) - var(--card-bottom-gap)) !important;
  overflow: hidden !important;   /* card não rola */
}



/* ============================
   CONSISTÊNCIA LOCAL x RENDER
   Neutraliza o container do Bootstrap e trava offsets
   ============================ */
.page-create .container,
.page-list .container,
.page-edit .container {
  max-width: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
  display: block !important;          /* remove o d-flex do base */
  justify-content: initial !important; /* remove justify-content-start */
}

/* Reforça as variáveis de posição */
:root {
  --card-left: 210px;
  --card-top: 50px;
  --card-bottom-gap: 100px;
}

/* ===== Cadastro ===== */
.page-create .card {
  position: fixed !important;
  top: var(--card-top) !important;
  left: var(--card-left) !important;
  transform: none !important;
  width: 700px !important;   /* menor largura */
  height: auto !important;   /* altura ajusta ao conteúdo */
}

/* ===== Lista ===== */
.page-list .card-list {
  position: fixed !important;
  top: var(--card-top) !important;
  left: var(--card-left) !important;
  width: 800px !important;   /* menor largura */
  height: calc(90vh - var(--card-top)) !important;
  overflow: hidden !important;
}
.page-list .card-list > .custom-header {
  flex: 0 0 auto !important;
}
.page-list .card-list > .custom-header + * {
  flex: 1 1 auto !important;
  min-height: 0 !important;
  overflow-y: auto !important;
}

/* ===== Editar ===== */
.page-edit .card-edit {
  position: fixed !important;
  top: var(--card-top) !important;
  left: var(--card-left) !important;
  width: 700px !important;   /* menor largura */
  height: auto !important;   /* altura ajusta ao conteúdo */
  overflow: visible !important; /* remove barra de rolagem */
}

/* ================================
   Ajuste visual p/ telas MUITO largas (≈zoom 80%)
   Deixa os 3 cards menores e na mesma posição que você gostou
   ================================ */
@media (min-width: 1600px) {
  :root {
    /* se quiser mais/menos “redução”, ajuste este scale */
    --ui-scale: 0.8;       /* 0.8 ≈ zoom 80% */
    --ui-nudge-left: 60px; /* compensação p/ manter o mesmo “colar à esquerda” */
  }

  /* Neutraliza container do Bootstrap nessas páginas */
  .page-create .container,
  .page-list .container,
  .page-edit .container {
    max-width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    display: block !important;
    justify-content: initial !important;
  }

  /* Aplica a “redução” só nos cards */
  .page-create .card,
  .page-edit  .card-edit,
  .page-list  .card-list {
    transform: scale(var(--ui-scale));
    transform-origin: top left; /* encolhe a partir do canto superior esquerdo */
  }

  /* Compensa a posição para não “descolar” da esquerda */
  .page-create .card    { left: calc(var(--card-left) + var(--ui-nudge-left)) !important; }
  .page-list  .card-list{ left: calc(var(--card-left) + var(--ui-nudge-left)) !important; }
  .page-edit  .card-edit{ left: calc(var(--card-left) + var(--ui-nudge-left)) !important; }

  /* Limita larguras máximas para não “estourar” */
  .page-create .card    { max-width: 900px; }
  .page-list  .card-list{ max-width: 980px; }
  .page-edit  .card-edit{ max-width: 880px; }
}
